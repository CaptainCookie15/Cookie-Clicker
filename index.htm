<html>
<head>
<style>
body {
  background-image: url('https://images.unsplash.com/photo-1589859762194-eaae75c61f64?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80');
}
</style>
</head>
<body>

<script type="text/javascript">
   cookies = 0
   cps = 0
   name = "Random Dude"


   function cookieClick() {
      cookies += 1
   }

   window.setInterval(function () {
  cookies += cps;
}, 1000);

   window.setInterval(function () {
  document.getElementById("cps").innerHTML = "Your CPS(Cookies Per Second) is " + cps;
  document.getElementById("cookies").innerHTML = "You have " + cookies + " cookies!";
});
   
   function saveGame() {
      var gameSave = {
         cookies: cookies,
         cps: cps
      };
      localStorage.setItem("gameSave", JSON.stringify(gameSave));
   }
  
  function crash() {
    var gameSave = {
       cookies: 0,
       cps: 0
    };
    localStorage.setItem("gameSave", JSON.stringify(gameSave));
    location.reload();
  }
  
  function wipeSave() {
      var gameSave = {
           cookies: 0,
           cps: 0
        };
      localStorage.setItem("gameSave", JSON.stringify(gameSave));
      location.reload();
   }

   function loadGame() {
      var savedGame = JSON.parse(localStorage.getItem("gameSave"));
      if (typeof savedGame.cookies !==  "undefined") cookies = savedGame.cookies;
      if (typeof savedGame.cps !==  "undefined") cps = savedGame.cps;
   }

window.setInterval(function () {
  saveGame();
}, 30000);

window.onload = function() {
   loadGame();
};

   function upgrade() {
      if (cookies > 99){
        alert("You have upgraded your cps")
        cps += 1
        cookies -= 100
      }
      else{
        alert("You need 100 cookies to upgrade your cps!")
      }
   }

   function upgradeGolden() {
      if (cookies > 349){
        alert("You have imported a golden cookie from cookie clicker.")
        cps += 15
        cookies -= 350
      }
      else{
        alert("You need 350 cookies to get a golden cookie!")
      }
   }
  
   function upgradeUh() {
      if (cookies > 9999){
        alert("You bought a (INSERT-NAME-HERE) from a shady website.")
        cps += 350
        cookies -= 10000
      }
      else{
        alert("You need 10000 cookies to get a (INSERT-NAME-HERE)!")
      }
   }
  
   function hax() {
      if (cookies > 99999999){
        alert("You downloaded hacks from notavirus.com")
        cps += 1000000
        cookies -= 100000000
      }
      else{
        alert("You should have installed Mcafee...")
        crash();
      }
   }

   function changeName() {
      name = prompt("What would you like your new name to be:")
      alert(name)
      document.getElementById("username").innerHTML = name + "'s Bakery";
   }

  function getSampleText() {

  Promise.all([
    fetch('people.txt').then(x => x.text())
  ]).then(([sampleResp]) => {
    document.getElementById("leaderboard").innerHTML = sampleResp;
  });
}

getSampleText();
</script>

<h1>Cookie Clicker</h1>
<p style="color:red" id="username">Random Dude's Bakery</p>
<button type="button" onclick="changeName()">Change Name</button>
<div style="color:yellow" id="cookies"></div>
<div id="cps"></div>
<p>Click the cookie to begin</p>

<button type="button" onclick="cookieClick()"><img src="https://cdn.pixabay.com/photo/2020/11/28/11/25/cookie-5784367_1280.png" alt="Cookie didn't load :(" width="100" height="100"></button>

<br>

<button type="button" onclick="upgrade()">First Upgrade: Cursor (1 cps)</button>

<button type="button" onclick="upgradeGolden()">Second Upgrade: Golden Cookie(15 cps)</button>
  
<button type="button" onclick="upgradeUh()">Third Upgrade: (INSERT-NAME-HERE)(350 cps)</button>
  
<button type="button" onclick="hax()">???</button>

<button type="button" onclick="saveGame()">Save</button>
  
<button type="button" onclick="wipeSave()">WIPE SAVE</button>

<br>

<h2 id="leaderboard" style="color:yellow">Username</th>

</body>
</html>
